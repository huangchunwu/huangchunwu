<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="专注于IT互联网，包括但不限于Go语言(golang)、Java、Android、Python、钉钉开发、项目管理、软件架构等"><title>一代天骄's BLOG | 专注于Java、项目管理、软件架构</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">一代天骄's BLOG</h1><a id="logo" href="/.">一代天骄's BLOG</a><p class="description">专注于Java、项目管理、软件架构</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/history/"><i class="fa fa-book"> 历史</i></a><a href="/guestbook/"><i class="fa fa-comments"> 留言</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"><a href="/2019/01/11/springbatch/">SpringBatch+MYSQL仓库+运维监控后台项目记录</a></h1><div class="post-meta">2019-01-11</div><div class="post-content"><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p>Spring Batch 是一款轻量级地适合企业级应用的批处理框架，值得注意的是，不同于其他调度框架，Spring Batch不提供调度功能。</p>
<hr>
<h3 id="批处理过程"><a href="#批处理过程" class="headerlink" title="批处理过程"></a>批处理过程</h3><p>批处理可以分为以下几个步骤：</p>
<ol>
<li>读取数据</li>
<li>按照业务处理数据</li>
<li>归档数据的过程</li>
</ol>
<hr>
<h3 id="Spring-Batch给我们提供了什么？"><a href="#Spring-Batch给我们提供了什么？" class="headerlink" title="Spring Batch给我们提供了什么？"></a>Spring Batch给我们提供了什么？</h3><ol>
<li>统一的读写接口 </li>
<li>丰富的任务处理方式</li>
<li>灵活的事务管理及并发处理 </li>
<li>日志、监控、任务重启与跳过等特性 </li>
</ol>
<hr></div><p class="readmore"><a href="/2019/01/11/springbatch/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2019/01/01/summary/">2018，这一年</a></h1><div class="post-meta">2019-01-01</div><div class="post-content"><p>引用习大大的祝贺词中的一句”岁月不居，时节如流”，18年就这样过去了，总结一下这年的收获。</p>
<h3 id="关于读书，多读比不读好"><a href="#关于读书，多读比不读好" class="headerlink" title="关于读书，多读比不读好"></a>关于读书，多读比不读好</h3><p>这一年，很庆幸的是，我认识了很上进的同事，他对我的影响是让我开始认识到看书的重要性，开始学会在书里寻找价值与智慧。今年我看了32本书，我也不记得自己还记得几个句子，又或者对我带来多大的影响，知乎上也有人提到“<strong>经常看书的人和不看书的人有什么区别</strong>”，我当时是这样回答的：</p>
<blockquote>
<p>从我身边的例子来说，有位同事，大学不务正业，泡在金庸武侠世界里，连书中的某段武林秘籍口诀也能倒背如流,当然，他也涉及其它领域。跟他对话，他猛不丁get到一个念头，帮你把你的处境与书中某个人的遭遇相关联,并引出解决方案，这时候你就能领略到读书的用处了，书中记录的是过来人的生活经验，会帮助你解决目前的问题。</p>
</blockquote>
<p>就我的感受是自己读完一本本书后，内心很充实，生活中有些问题能从书中找到答案，思想变得更加豁达了，而没有像以前看问题那么局面，自然比以前少发牢骚了，生活也更积极了。</p></div><p class="readmore"><a href="/2019/01/01/summary/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/12/20/softdesign/">结合项目，谈谈软件设计原则</a></h1><div class="post-meta">2018-12-20</div><div class="post-content"><p>从事开发这么多年，陆陆续续开发了N个系统了。对软件设计原则，一直没有认真深入的探讨过，当熟读这些原则，结合项目，发现很多违背设计的地方，作为优秀的研发，应该早点跟三字经一样熟读这些原则才对啊。下面我结合最近的项目谈谈自己的见解。</p>
<h2 id="开闭原则"><a href="#开闭原则" class="headerlink" title="开闭原则"></a>开闭原则</h2><p>官方解释 对扩展是开放的，对修改是关闭的。<br>简单地说，就是你要提供这样的函数方法或者类，你可以进行重载，复写，但是不需要修改。例如，刚开始，火车票电子票出票流程，我在controller层调用business层提供的出票方法。设计的时候，预测到后期还有其他票种，我抽象出一个IOccupyBusiness接口，里面就一个请求占位方法，实现该接口新建实现类EticketOccupyBusiness，在occupy（）写电子票的业务。<br>过了不久，产品提了一个配送票的出票需求，我只需要添加一个实现IOccupyBusiness的实现类DeliveryOccupyBusiness，在occupy（）写配送票的业务，我并没有修改已有类，和方法，复合了开闭原则。</p>
<h2 id="接口隔离原则"><a href="#接口隔离原则" class="headerlink" title="接口隔离原则"></a>接口隔离原则</h2><p>客户端不应该依赖它不需要的接口；<br>一个类对另一个类的依赖应该建立在最小的接口上。<br>简单说，不要给调用方暴露它不需要调用的方法。<br>还拿上述的例子，如果遵循单一职责原则，请求占位，与占位反馈，可以设计成同个接口的不同方法。如果需求是这样的，配送票的占位是虚占，不需要耗时的请求12306实占，所以可以占位接口设计成同步反馈结果，则没有异步反馈的方法。那么配送票的实现类就多暴露出一个占位反馈的方法，不符合接口隔离原则，于是我又将占位接口，粒度细化了，分占位请求接口，占位反馈接口。这样，占位的实现类就不会实现多余的接口了。</p></div><p class="readmore"><a href="/2018/12/20/softdesign/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/12/16/aop/">spring声明式事务失效的分析过程</a></h1><div class="post-meta">2018-12-16</div><div class="post-content"><h3 id="问题的背景"><a href="#问题的背景" class="headerlink" title="问题的背景"></a>问题的背景</h3><p>在途牛，庆幸的是遇到了几个很正面的人，我也是从阅读其中一位同事的博客才发现了spring声明式事务的这个坑，说实话，我平时开发很少用事务，因为不好控制粒度，事务也是高并发的绊脚石。</p>
<hr>
<h3 id="问题的现象"><a href="#问题的现象" class="headerlink" title="问题的现象"></a>问题的现象</h3><p>为了理解方便，下面我用伪代码说明问题详细<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Class exampleService&#123;</span><br><span class="line">    <span class="comment">//不加事务，本身不需要事务介入</span></span><br><span class="line">   public <span class="keyword">void</span> methodA（）&#123;</span><br><span class="line">      <span class="comment">//耗时操作</span></span><br><span class="line">      ······</span><br><span class="line">     <span class="comment">//调用B</span></span><br><span class="line">      methodB（）；</span><br><span class="line">      ······</span><br><span class="line">   &#125;</span><br><span class="line">    <span class="comment">//声明了事务</span></span><br><span class="line">   @Transactional </span><br><span class="line">   public <span class="keyword">void</span> methodB（）&#123;</span><br><span class="line">      insert();</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"操作db失败"</span>)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行完代码后，现象是发现methodB的插入的数据没有回滚，像我一样不知道的同学就纳闷了，下面来具体分析下为啥出现事务无效的现象。</p>
<hr></div><p class="readmore"><a href="/2018/12/16/aop/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/12/16/music/">推荐适合敲代码时候听的空灵音乐</a></h1><div class="post-meta">2018-12-16</div><div class="post-content"><p>日常时间大多数都在敲代码中，当周围环境比较纷杂吵闹，又或者内心比较杂乱烦躁的时候，我都会放上一小段音乐来平复一下自己，通常我会听一些轻音乐，我喜欢青山流水的旋律，或者简简单单的下雨的声音，个人觉得很适合敲代码的时候听。</p>
<p>现在流行的歌手，参差不齐，商业化向导向的市场已经很难诞生出一个纯粹做音乐的人了，如果听音乐，我个人建议听像朴树、许巍这样的灵魂歌者，他们的音乐简简单单是自己某个阶段的内心表达。</p></div><p class="readmore"><a href="/2018/12/16/music/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/12/02/adb/">Android开发调试远程连接设备</a></h1><div class="post-meta">2018-12-02</div><div class="post-content"><p>最近在做一个Android-PAD项目，之前本地调试，基本靠sdk模拟器，或者数据线连接手机，学会了新招，可以远程连接设备进行调试，即远程adb。</p>
<hr>
<p>前提条件：一台Android设备，并且ROOT</p>
<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">su</span><br><span class="line">setprop service.adb.tcp.port <span class="number">9999</span>  <span class="comment">#设置端口，默认是5555</span></span><br><span class="line">stop adbd</span><br><span class="line">start adbd</span><br><span class="line">netstat<span class="comment">#看下adb端口是否打开</span></span><br></pre></td></tr></table></figure>
<p>最后在终端执行<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator\AppData\Local\Android\Sdk\platform-tools&gt;adb connect <span class="number">192.168</span><span class="number">.2</span><span class="number">.104</span> <span class="number">9999</span>连接成功</span><br></pre></td></tr></table></figure></p></div><p class="readmore"><a href="/2018/12/02/adb/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/12/02/markdown/">MarkDown编辑器</a></h1><div class="post-meta">2018-12-02</div><div class="post-content"><p>hexo博客搭建好了，可以开始写文章了，所谓“工欲善其事必先利其器”，推荐在线<a href="https://www.zybuluo.com/mdeditor#1356808" target="_blank" rel="noopener">MarkDown编辑器</a>，可以立即预览文章样式。</p></div><p class="readmore"><a href="/2018/12/02/markdown/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/12/01/hello-world/">hexo+GitHub搭建个人博客</a></h1><div class="post-meta">2018-12-01</div><div class="post-content"><hr>
<p>做IT的没有一个自己的博客，不像话，于是现学现卖搭建了这个博客，记录下来，种下大树，便于后人乘凉</p>
<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><blockquote>
<ul>
<li>电脑一台，本文以win7为例</li>
<li>给电脑安装git</li>
<li>安装node.js</li>
<li>申请GitHub </li>
</ul>
</blockquote></div><p class="readmore"><a href="/2018/12/01/hello-world/">阅读全文</a></p></div><nav class="page-navigator"><a class="extend prev" rel="prev" href="/page/2/">上一页</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span></nav></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/">JVM</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mysql/">Mysql</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Redis/">Redis</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/">Spring</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringBatch/">SpringBatch</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/个人收藏/">个人收藏</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/并发/">并发</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/搭建博客/">搭建博客</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/经验积累/">经验积累</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/缓存/">缓存</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/钉钉开发实录/">钉钉开发实录</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/软件设计原则/" style="font-size: 15px;">软件设计原则</a> <a href="/tags/Redis/" style="font-size: 15px;">Redis</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/Spring声明式事务/" style="font-size: 15px;">Spring声明式事务</a> <a href="/tags/forkJoin/" style="font-size: 15px;">forkJoin</a> <a href="/tags/并发/" style="font-size: 15px;">并发</a> <a href="/tags/垃圾回收器/" style="font-size: 15px;">垃圾回收器</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/钉钉开发/" style="font-size: 15px;">钉钉开发</a> <a href="/tags/工具/" style="font-size: 15px;">工具</a> <a href="/tags/SQL优化/" style="font-size: 15px;">SQL优化</a> <a href="/tags/类的加载机制/" style="font-size: 15px;">类的加载机制</a> <a href="/tags/JVM调优/" style="font-size: 15px;">JVM调优</a> <a href="/tags/生活感悟/" style="font-size: 15px;">生活感悟</a> <a href="/tags/面试/" style="font-size: 15px;">面试</a> <a href="/tags/批处理/" style="font-size: 15px;">批处理</a> <a href="/tags/SpringBatch/" style="font-size: 15px;">SpringBatch</a> <a href="/tags/Spring/" style="font-size: 15px;">Spring</a> <a href="/tags/Threadlocal/" style="font-size: 15px;">Threadlocal</a> <a href="/tags/隔离级别/" style="font-size: 15px;">隔离级别</a> <a href="/tags/UML/" style="font-size: 15px;">UML</a> <a href="/tags/线程池/" style="font-size: 15px;">线程池</a> <a href="/tags/音乐/" style="font-size: 15px;">音乐</a> <a href="/tags/数据迁移/" style="font-size: 15px;">数据迁移</a> <a href="/tags/volatile/" style="font-size: 15px;">volatile</a> <a href="/tags/synchronized/" style="font-size: 15px;">synchronized</a> <a href="/tags/年度总结/" style="font-size: 15px;">年度总结</a> <a href="/tags/缓存/" style="font-size: 15px;">缓存</a> <a href="/tags/Guava/" style="font-size: 15px;">Guava</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/04/30/线程池容易被忽略的地方/">线程池容易被忽略的地方</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/29/Redis-incr做接口访问频率的坑/">Redis incr做接口访问频率的坑</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/28/Redis执行expire命令失败引发的坑/">Redis执行expire命令失败引发的坑</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/27/uml/">源码阅读利器-UML类图</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/26/面试/">如何平滑数据迁移不影响服务的可用性</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/25/mysql隔离级别/">MYSQL事务默认隔离级别为什么是可重复读</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/20/SQL优化神器explain/">SQL优化神器explain</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/18/volatile与synchronized的区别/">volatile与synchronized的区别</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/06/gc/">垃圾回收器的选择</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/26/jvm-class/">类的加载机制与对象的实例化</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">一代天骄's BLOG</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>